(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{1917:function(t,n,e){},"2cdf":function(t,n,e){"use strict";(function(t){e("2d82"),e("921b");o(e("66fd"));var n=o(e("c416"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"33a5":function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement;t._self._c},r=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return r})},6467:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("a34a")),r=(a(e("9c0a")),e("2f62"));function a(t){return t&&t.__esModule?t:{default:t}}function i(t,n,e,o,r,a,i){try{var u=t[a](i),c=u.value}catch(s){return void e(s)}u.done?n(c):Promise.resolve(c).then(o,r)}function u(t){return function(){var n=this,e=arguments;return new Promise(function(o,r){var a=t.apply(n,e);function u(t){i(a,o,r,u,c,"next",t)}function c(t){i(a,o,r,u,c,"throw",t)}u(void 0)})}}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},o=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(n){s(t,n,e[n])})}return t}function s(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var l=function(){return e.e("components/uni-goods-nav/uni-goods-nav").then(e.bind(null,"7b86"))},f=function(){return e.e("components/uni-number-box/uni-number-box").then(e.bind(null,"84a1"))},d={components:{UniGoodsNav:l,UniNumberBox:f},data:function(){return{jackMa:{imgSrc:"https://7969-yinpeng-d10c8a-1258090796.tcb.qcloud.la/jackMa.png?sign=cae30d4d42a99a324960763501cf6d34&t=1573857413",saying:"你花任你花，我穷算我输",money:270101e6},productList:[],renderImage:!1,top:0,isFixed:!1}},methods:c({loadData:function(){var n=u(o.default.mark(function n(){var e,r,a=this,i=arguments;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:e=i.length>0&&void 0!==i[0]?i[0]:"add",t.showLoading({title:"加载中",mask:!1}),r=wx.cloud.database(),"refresh"===e&&(this.productList=[]),r.collection("goods").orderBy("favourPrice","asc").skip(this.productList.length).limit(10).get().then(function(t){var n=!0,e=!1,o=void 0;try{for(var r,i=t.data[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var u=r.value;u.plusDisabled=!1,u.number=0,a.productList.push(u)}}catch(c){e=!0,o=c}finally{try{n||null==i.return||i.return()}finally{if(e)throw o}}a.renderImage=!0}).catch(function(t){console.err(t)}).finally(function(){t.hideLoading(),t.stopPullDownRefresh()});case 5:case"end":return n.stop()}},n,this)}));function e(){return n.apply(this,arguments)}return e}(),changeNumber:function(t,n){var e=this,o=t.type,r=t.value;"plus"===o?this.jackMa.money-=n.favourPrice:this.jackMa.money+=n.favourPrice,n.number=+r,this.setSurplus(this.jackMa.money),this.productList.forEach(function(t,n){t.favourPrice>e.jackMa.money&&(t.plusDisabled=!0)})},gotoCart:function(n){this.setCart(this.productList.filter(function(t){return!!t.number})),t.navigateTo({url:"/pages/cart/cart"})}},(0,r.mapMutations)(["setTotal","setSurplus","setCart"])),onReady:function(){this.setTotal(this.jackMa.money),t.showShareMenu({withShareTicket:!0})},onLoad:function(){this.loadData()},onShareAppMessage:function(t){return{title:"花光马爸爸的钱",path:"/pages/index/index",imageUrl:this.jackMa.imgSrc,desc:"马云还有270101000000元人民币",success:function(){console.log("share succeed")}}},onPageScroll:function(t){var n=t.scrollTop;n>=this.top?this.isFixed=!0:this.isFixed=!1},onPullDownRefresh:function(){this.loadData("refresh")},onReachBottom:function(){this.loadData(),t.hideShareMenu()},mounted:function(){var n=this;t.createSelectorQuery().in(this).select(".jackMa-money").boundingClientRect(function(t){n.top=t.top}).exec()}};n.default=d}).call(this,e("543d")["default"])},"7c19":function(t,n,e){"use strict";var o=e("1917"),r=e.n(o);r.a},"9b6d":function(t,n,e){"use strict";e.r(n);var o=e("6467"),r=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(n,t,function(){return o[t]})}(a);n["default"]=r.a},c416:function(t,n,e){"use strict";e.r(n);var o=e("33a5"),r=e("9b6d");for(var a in r)"default"!==a&&function(t){e.d(n,t,function(){return r[t]})}(a);e("7c19");var i=e("2877"),u=Object(i["a"])(r["default"],o["a"],o["b"],!1,null,null,null);n["default"]=u.exports}},[["2cdf","common/runtime","common/vendor"]]]);